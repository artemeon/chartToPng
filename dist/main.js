!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.w={},r(r.s=6)}([function(e,t){function r(e){var t=new Error('Cannot find module "'+e+'".');throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=0},function(e,t){e.exports=require("readline")},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";const{stdin:n}=process;e.exports=()=>{let e="";return new Promise(t=>{n.isTTY?t(e):(n.setEncoding("utf8"),n.on("readable",()=>{let t;for(;t=n.read();)e+=t}),n.on("end",()=>{t(e)}))})},e.exports.buffer=()=>{const e=[];let t=0;return new Promise(r=>{n.isTTY?r(Buffer.concat([])):(n.on("readable",()=>{let r;for(;r=n.read();)e.push(r),t+=r.length}),n.on("end",()=>{r(Buffer.concat(e,t))}))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.freshRequire=function(e){const t=r(0).resolve(e),n=r.c[t];delete r.c[t];const a=r(0)(t);return r.c[t]=n,a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),a=()=>n.freshRequire("chart.js");t.CanvasRenderService=class{constructor(e,t,r,o,s){this._width=e,this._height=t,this._chartJs=(s||a)(),this._createCanvas=n.freshRequire("canvas").createCanvas,this._registerFont=n.freshRequire("canvas").registerFont,this._type=o,r&&r(this._chartJs)}renderToDataURL(e,t="image/png"){const r=this.renderChart(e);return new Promise((e,n)=>{if(!r.canvas)return n(new Error("Canvas is null"));r.canvas.toDataURL(t,(t,a)=>(r.destroy(),t?n(t):e(a)))})}renderToDataURLSync(e,t="image/png"){const r=this.renderChart(e);if(!r.canvas)throw new Error("Canvas is null");const n=r.canvas;return r.destroy(),n.toDataURL(t)}renderToBuffer(e,t="image/png"){const r=this.renderChart(e);return new Promise((e,n)=>{if(!r.canvas)throw new Error("Canvas is null");r.canvas.toBuffer((t,a)=>(r.destroy(),t?n(t):e(a)),t)})}renderToBufferSync(e,t="image/png"){const r=this.renderChart(e);if(!r.canvas)throw new Error("Canvas is null");const n=r.canvas.toBuffer(t);return r.destroy(),n}renderToStream(e,t="image/png"){const r=this.renderChart(e);if(!r.canvas)throw new Error("Canvas is null");const n=r.canvas;switch(setImmediate(()=>r.destroy()),t){case"image/png":return n.createPNGStream();case"image/jpeg":return n.createJPEGStream();case"application/pdf":return n.createPDFStream();default:throw new Error(`Un-handled mimeType: ${t}`)}}registerFont(e,t){this._registerFont(e,t)}renderChart(e){const t=this._createCanvas(this._width,this._height,this._type);t.style={},e.options=e.options||{},e.options.responsive=!1,e.options.animation=!1;const r=t.getContext("2d");return new this._chartJs(r,e)}}},function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function i(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const{CanvasRenderService:a}=r(5),o=(r(3),r(2));r(1);e.exports=function(e){const t=400,r=400;let s={type:"bar",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:e=>`$${e}`}}]}}},i={};const c=e=>{e.defaults.global.elements.rectangle.borderWidth=2,e.plugins.register(i),e.controllers.MyType=e.DatasetController.extend({})};!function(){n(this,void 0,void 0,(function*(){try{const n=Math.random().toString(36).substring(5);e.chart.data.data.datasets.forEach(e=>{"line"===e.type&&(e.fill=!1)}),s=e.chart.data,i=e.chart.data.options.plugins;const u=new a(t,r,c),l=yield u.renderToDataURL(s),d=`graph-${n}.png`;!function(e,t,r){try{o.mkdirSync(t,{recursive:!0})}catch(a){console.log("cannot create folder : ",a)}const n=e.replace(/^data:image\/png;base64,/,"");o.writeFile(t+r,n,"base64",e=>{if(e)throw e})}(l,`${e.outputPath}/hsbcreports/`,d)}catch(n){console.log(n)}}))}()}}]);